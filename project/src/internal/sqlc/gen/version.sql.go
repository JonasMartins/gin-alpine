// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0
// source: version.sql

package gen

import (
	"context"

	"github.com/jackc/pgx/v5/pgtype"
)

const getLastVersion = `-- name: GetLastVersion :one
select last_update,
    contest
from version_update
order by id desc
`

type GetLastVersionRow struct {
	LastUpdate pgtype.Timestamp
	Contest    int32
}

// =========================
// VERSION
// =========================
func (q *Queries) GetLastVersion(ctx context.Context) (GetLastVersionRow, error) {
	row := q.db.QueryRow(ctx, getLastVersion)
	var i GetLastVersionRow
	err := row.Scan(&i.LastUpdate, &i.Contest)
	return i, err
}

const insertNewVersion = `-- name: InsertNewVersion :exec
insert into version_update (last_update, contest)
VALUES ($1, $2)
`

type InsertNewVersionParams struct {
	LastUpdate pgtype.Timestamp
	Contest    int32
}

func (q *Queries) InsertNewVersion(ctx context.Context, arg InsertNewVersionParams) error {
	_, err := q.db.Exec(ctx, insertNewVersion, arg.LastUpdate, arg.Contest)
	return err
}
